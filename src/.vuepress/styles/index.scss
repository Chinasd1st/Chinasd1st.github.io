/* TorusPro Regular – 400 */
@font-face {
  font-family: "TorusPro";
  src: url("/assets/fonts/TorusPro-Regular.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

/* TorusPro SemiBold – 600 */
@font-face {
  font-family: "TorusPro";
  src: url("/assets/fonts/TorusPro-SemiBold.woff2") format("woff2");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

/* TorusPro Bold – 700 */
@font-face {
  font-family: "TorusPro";
  src: url("/assets/fonts/TorusPro-Bold.woff2") format("woff2");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}
.vp-badge {
  font-weight: 600 !important;
  font-family: "TorusPro", "Noto Sans JP", sans-serif;
}
a {
  font-weight: 600 !important;     // SemiBold
}

// 定义 APlayer 专用的颜色变量
// ----------------------------------------------------

// 浅色模式下的变量定义
[data-theme="light"] {
  --aplayer-bg: #f5f5f5;
  --aplayer-text: #333;
  --aplayer-bar-bg: #eee;
  --aplayer-loaded-bg: #ddd;
  --aplayer-list-bg: #fff;
  --aplayer-list-border: #eee;
  --aplayer-list-hover-bg: #f0f0f0;
  --aplayer-button-color: #666;
  --aplayer-border-color: #eee;
  --aplayer-lrc-gradient-start: rgba(245, 245, 245, 0);
  --aplayer-lrc-gradient-end: rgba(245, 245, 245, 0.9);
}

// 深色模式下的变量定义
[data-theme="dark"] {
  --aplayer-bg: #1e1e1e;
  --aplayer-text: #f5f5f5;
  --aplayer-bar-bg: #333;
  --aplayer-loaded-bg: #444;
  --aplayer-list-bg: #2d2d2d;
  --aplayer-list-border: #333;
  --aplayer-list-hover-bg: #383838;
  --aplayer-button-color: #ccc;
  --aplayer-border-color: #333;
  --aplayer-lrc-gradient-start: rgba(30, 30, 30, 0);
  --aplayer-lrc-gradient-end: rgba(30, 30, 30, 0.9);
}

// APlayer 通用样式 (只使用变量，避免重复计算)
// ----------------------------------------------------
.aplayer {
  // 基础样式和颜色
  background: var(--aplayer-bg) !important;
  color: var(--aplayer-text) !important;
  border-radius: 6px; // 继承主题的圆角
  box-shadow: var(--box-shadow); // 继承主题的阴影

  // 进度条和控件
  .aplayer-bar {
    background: var(--aplayer-bar-bg) !important;
  }
  
  .aplayer-loaded {
    background: var(--aplayer-loaded-bg) !important;
  }

  .aplayer-played {
    // 播放进度条颜色不变，始终使用主题强调色
    background: var(--vp-c-brand) !important;
  }

  .aplayer-button,
  .aplayer-icon {
    color: var(--aplayer-button-color) !important;
  }

  .aplayer-button:hover,
  .aplayer-icon:hover {
    // 悬浮颜色使用主题颜色
    color: var(--vp-c-brand) !important;
  }

  // 歌曲信息区域
  .aplayer-info {
    .aplayer-music {
      .aplayer-title {
        color: var(--aplayer-text) !important;
      }
      .aplayer-author {
        color: var(--aplayer-button-color) !important; // 使用较暗的颜色作为作者颜色
      }
    }
    
    // 歌词区域渐变背景修正（上）
    .aplayer-lrc:before {
      background: linear-gradient(0deg, var(--aplayer-lrc-gradient-start) 0%, var(--aplayer-lrc-gradient-end) 100%) !important;
    }

    // 歌词区域渐变背景修正（下）
    .aplayer-lrc:after {
      background: linear-gradient(180deg, var(--aplayer-lrc-gradient-start) 0%, var(--aplayer-lrc-gradient-end) 100%) !important;
    }
  }

  // 带列表的播放器信息区域底部边框
  &.aplayer-withlist .aplayer-info {
    border-bottom: 1px solid var(--aplayer-border-color) !important;
  }

  // 列表样式
  .aplayer-list {
    background: var(--aplayer-list-bg) !important;

    ol li {
      border-top: 1px solid var(--aplayer-list-border) !important;

      &.aplayer-list-light {
        background: var(--aplayer-list-hover-bg) !important;
      }

      // 列表项hover状态
      &:hover {
        background: var(--aplayer-list-hover-bg) !important;
      }
    }
    
    // 滚动条样式优化：直接使用 CSS 变量
    // 这里的目的是取消 APlayer 自身的自定义滚动条颜色，继承主题样式
    &::-webkit-scrollbar {
      width: 6px !important;
      height: 6px !important;
    }
    
    // 移除不必要的样式覆盖，让浏览器和主题去处理滚动条颜色
    &::-webkit-scrollbar-track,
    &::-webkit-scrollbar-thumb,
    &::-webkit-scrollbar-thumb:hover {
      background: unset !important;
      scrollbar-color: var(--vp-c-brand-light) var(--vp-c-bg-soft) !important; 
    }
  }
}

.aplayer {
  /* 提升到独立的合成层 */
  will-change: transform, opacity; 
  /* 或者使用 transform: translateZ(0); */
  transform: translateZ(0);
  /* 确保平滑的过渡，虽然在这里主要是为了性能 */
  -webkit-font-smoothing: antialiased;
}